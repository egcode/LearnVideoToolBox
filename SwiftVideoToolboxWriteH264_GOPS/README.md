# VideoToolboxCompression

Capture and compress video into H.264 with AVFoundation/VideoToolbox in Swift 4 with Xcode 9 beta 5.

Inspired by [loyinlin's](https://github.com/loyinglin/LearnVideoToolBox) and [zerdzhong's](https://github.com/zerdzhong/SwfitH264Demo) great work.

This project is based on `AVFoundation` to preview and capture uncompressed `CMSampleBuffer` and `VideoToolbox` to compress into H.264 file. You could use `mpv` or `IINA` to preview the generated file.

And [this blog](https://tomisacat.xyz/tech/2017/08/21/iOS-hardware-accelerate-codec-with-videotoolbox.html) discusses the details.


